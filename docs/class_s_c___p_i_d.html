<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Smart Car Controller: SC_PID Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="MajicDesigns_Logo.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Smart Car Controller
   &#160;<span id="projectnumber">1.0</span>
   </div>
   <div id="projectbrief">Library to manage a two wheeled robotic vehicle</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('class_s_c___p_i_d.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="class_s_c___p_i_d-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">SC_PID Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;SC_PID.h&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-types"></a>
Public Types</h2></td></tr>
<tr><td colspan="2"><div class="groupHeader">Enumerated Types and Constants.</div></td></tr>
<tr class="memitem:ada768158001147b6abaecf918bd17d63"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_s_c___p_i_d.html#ada768158001147b6abaecf918bd17d63">mode_t</a> { <a class="el" href="class_s_c___p_i_d.html#ada768158001147b6abaecf918bd17d63aedb92df3f4b05d6b0ea0b35d6e051c0d">AUTO</a>
, <a class="el" href="class_s_c___p_i_d.html#ada768158001147b6abaecf918bd17d63aa0019fbe29904ceac263806427c76064">USER</a>
, <a class="el" href="class_s_c___p_i_d.html#ada768158001147b6abaecf918bd17d63a8eb26608ad392f95a7082f7b4a397ee5">OFF</a>
 }</td></tr>
<tr class="separator:ada768158001147b6abaecf918bd17d63"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ada5a53ec5bc72d5d4f5d344e63f977e5"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_s_c___p_i_d.html#ada5a53ec5bc72d5d4f5d344e63f977e5">control_t</a> { <a class="el" href="class_s_c___p_i_d.html#ada5a53ec5bc72d5d4f5d344e63f977e5af5485e64bf6b9df3e21b17836b9ecb9a">DIRECT</a>
, <a class="el" href="class_s_c___p_i_d.html#ada5a53ec5bc72d5d4f5d344e63f977e5acdfdf14708001fd4affa410762c33cf6">REVERSE</a>
 }</td></tr>
<tr class="separator:ada5a53ec5bc72d5d4f5d344e63f977e5"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr><td colspan="2"><div class="groupHeader">Class constructor and destructor.</div></td></tr>
<tr class="memitem:a14da8a635717b0c4342dd8260d2aa766"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_s_c___p_i_d.html#a14da8a635717b0c4342dd8260d2aa766">SC_PID</a> (int16_t *cv, int16_t *co, int16_t *sp, float Kp, float Ki, float Kd, float pOn=1.0, <a class="el" href="class_s_c___p_i_d.html#ada5a53ec5bc72d5d4f5d344e63f977e5">control_t</a> controller=<a class="el" href="class_s_c___p_i_d.html#ada5a53ec5bc72d5d4f5d344e63f977e5af5485e64bf6b9df3e21b17836b9ecb9a">DIRECT</a>)</td></tr>
<tr class="separator:a14da8a635717b0c4342dd8260d2aa766"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa80b542c5c7be3d3b09204e9860c7f30"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_s_c___p_i_d.html#aa80b542c5c7be3d3b09204e9860c7f30">~SC_PID</a> (void)</td></tr>
<tr class="separator:aa80b542c5c7be3d3b09204e9860c7f30"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr><td colspan="2"><div class="groupHeader">Methods for core object control.</div></td></tr>
<tr class="memitem:aa20f09f829697266cbc40d84ed60c99f"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_s_c___p_i_d.html#aa20f09f829697266cbc40d84ed60c99f">compute</a> (void)</td></tr>
<tr class="separator:aa20f09f829697266cbc40d84ed60c99f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac1f09dda9f2a81959df2c5584c80a36e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_s_c___p_i_d.html#ac1f09dda9f2a81959df2c5584c80a36e">reset</a> (void)</td></tr>
<tr class="separator:ac1f09dda9f2a81959df2c5584c80a36e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a56ea600297f8316a85c75faa90021ae3"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_s_c___p_i_d.html#a56ea600297f8316a85c75faa90021ae3">setPIDPeriod</a> (uint32_t newPeriod)</td></tr>
<tr class="separator:a56ea600297f8316a85c75faa90021ae3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac26c3f2642a4d024f8e97ef22e69662f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_s_c___p_i_d.html#ac26c3f2642a4d024f8e97ef22e69662f">setMode</a> (<a class="el" href="class_s_c___p_i_d.html#ada768158001147b6abaecf918bd17d63">mode_t</a> newMode)</td></tr>
<tr class="separator:ac26c3f2642a4d024f8e97ef22e69662f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0160a82ab24a8297e6df09c0b37b4b51"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_s_c___p_i_d.html#a0160a82ab24a8297e6df09c0b37b4b51">setOutputLimits</a> (int16_t min, int16_t max)</td></tr>
<tr class="separator:a0160a82ab24a8297e6df09c0b37b4b51"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5930d89577bee64103431f5a1acd610f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_s_c___p_i_d.html#a5930d89577bee64103431f5a1acd610f">setTuning</a> (float Kp, float Ki, float Kd, float pOn)</td></tr>
<tr class="separator:a5930d89577bee64103431f5a1acd610f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a61ca18bf72d248e11db71d6d6c63884a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_s_c___p_i_d.html#a61ca18bf72d248e11db71d6d6c63884a">setTuning</a> (float Kp, float Ki, float Kd)</td></tr>
<tr class="separator:a61ca18bf72d248e11db71d6d6c63884a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr><td colspan="2"><div class="groupHeader">Utility Functions.</div></td></tr>
<tr class="memitem:a4794be2d3c590ae0dfc7aeda645a36da"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_s_c___p_i_d.html#a4794be2d3c590ae0dfc7aeda645a36da">setControlType</a> (<a class="el" href="class_s_c___p_i_d.html#ada5a53ec5bc72d5d4f5d344e63f977e5">control_t</a> cType)</td></tr>
<tr class="separator:a4794be2d3c590ae0dfc7aeda645a36da"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8b3fc2571cfe167648818429056a2927"><td class="memItemLeft" align="right" valign="top">int16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_s_c___p_i_d.html#a8b3fc2571cfe167648818429056a2927">getError</a> (void)</td></tr>
<tr class="separator:a8b3fc2571cfe167648818429056a2927"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab31cdb29eb5aeba19c35617aa3ac8e0d"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_s_c___p_i_d.html#ab31cdb29eb5aeba19c35617aa3ac8e0d">getKp</a> (void)</td></tr>
<tr class="separator:ab31cdb29eb5aeba19c35617aa3ac8e0d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3a2d8e83d0f811e7cc71ff7d0472a2eb"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_s_c___p_i_d.html#a3a2d8e83d0f811e7cc71ff7d0472a2eb">getKi</a> (void)</td></tr>
<tr class="separator:a3a2d8e83d0f811e7cc71ff7d0472a2eb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a438de64273b2b314719bf413c09658a7"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_s_c___p_i_d.html#a438de64273b2b314719bf413c09658a7">getKd</a> (void)</td></tr>
<tr class="separator:a438de64273b2b314719bf413c09658a7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a53ef8f0e4c9226c786fe5d253e9efc67"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_s_c___p_i_d.html#a53ef8f0e4c9226c786fe5d253e9efc67">getPIDPeriod</a> (void)</td></tr>
<tr class="separator:a53ef8f0e4c9226c786fe5d253e9efc67"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0b44fa071ac90736f03907b9c0e04c0b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_s_c___p_i_d.html#ada768158001147b6abaecf918bd17d63">mode_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_s_c___p_i_d.html#a0b44fa071ac90736f03907b9c0e04c0b">getMode</a> (void)</td></tr>
<tr class="separator:a0b44fa071ac90736f03907b9c0e04c0b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad3fa85ae19210ac9fd34fb009ee28242"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_s_c___p_i_d.html#ada5a53ec5bc72d5d4f5d344e63f977e5">control_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_s_c___p_i_d.html#ad3fa85ae19210ac9fd34fb009ee28242">getControlType</a> (void)</td></tr>
<tr class="separator:ad3fa85ae19210ac9fd34fb009ee28242"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Core object for the <a class="el" href="class_s_c___p_i_d.html">SC_PID</a> class Implements PID control algorithm DC motor control, as a hybrid fixed-point and floating-point PID controller </p>
</div><h2 class="groupheader">Member Enumeration Documentation</h2>
<a id="ada5a53ec5bc72d5d4f5d344e63f977e5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ada5a53ec5bc72d5d4f5d344e63f977e5">&#9670;&nbsp;</a></span>control_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="class_s_c___p_i_d.html#ada5a53ec5bc72d5d4f5d344e63f977e5">SC_PID::control_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Different ways the controller can operate </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="ada5a53ec5bc72d5d4f5d344e63f977e5af5485e64bf6b9df3e21b17836b9ecb9a"></a>DIRECT&#160;</td><td class="fielddoc"><p>An increase in the control output increases the controlled variable. </p>
</td></tr>
<tr><td class="fieldname"><a id="ada5a53ec5bc72d5d4f5d344e63f977e5acdfdf14708001fd4affa410762c33cf6"></a>REVERSE&#160;</td><td class="fielddoc"><p>An increase in the control output decreases the controlled variable. </p>
</td></tr>
</table>

</div>
</div>
<a id="ada768158001147b6abaecf918bd17d63"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ada768158001147b6abaecf918bd17d63">&#9670;&nbsp;</a></span>mode_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="class_s_c___p_i_d.html#ada768158001147b6abaecf918bd17d63">SC_PID::mode_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Different possible modes for the controller execution </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="ada768158001147b6abaecf918bd17d63aedb92df3f4b05d6b0ea0b35d6e051c0d"></a>AUTO&#160;</td><td class="fielddoc"><p>The controller will keep track of time and execute one PID iteration when time expires. </p>
</td></tr>
<tr><td class="fieldname"><a id="ada768158001147b6abaecf918bd17d63aa0019fbe29904ceac263806427c76064"></a>USER&#160;</td><td class="fielddoc"><p>The user is responsible for calling the PID computation when the calculation time interval expires. </p>
</td></tr>
<tr><td class="fieldname"><a id="ada768158001147b6abaecf918bd17d63a8eb26608ad392f95a7082f7b4a397ee5"></a>OFF&#160;</td><td class="fielddoc"><p>The controlled variable is controlled manually (ie, no PID control). </p>
</td></tr>
</table>

</div>
</div>
<h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a14da8a635717b0c4342dd8260d2aa766"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a14da8a635717b0c4342dd8260d2aa766">&#9670;&nbsp;</a></span>SC_PID()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">SC_PID::SC_PID </td>
          <td>(</td>
          <td class="paramtype">int16_t *&#160;</td>
          <td class="paramname"><em>cv</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int16_t *&#160;</td>
          <td class="paramname"><em>co</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int16_t *&#160;</td>
          <td class="paramname"><em>sp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>Kp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>Ki</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>Kd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>pOn</em> = <code>1.0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_s_c___p_i_d.html#ada5a53ec5bc72d5d4f5d344e63f977e5">control_t</a>&#160;</td>
          <td class="paramname"><em>controller</em> = <code><a class="el" href="class_s_c___p_i_d.html#ada5a53ec5bc72d5d4f5d344e63f977e5af5485e64bf6b9df3e21b17836b9ecb9a">DIRECT</a></code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Class Constructor.</p>
<p>Instantiate a new instance of the class.</p>
<p>The main function for the core object is to reset the internal shared variables and timers to default values.</p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="class_s_c___p_i_d.html#a5930d89577bee64103431f5a1acd610f">setTuning()</a>, <a class="el" href="class_s_c___p_i_d.html#ac26c3f2642a4d024f8e97ef22e69662f">setMode()</a></dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">cv</td><td>Pointer to the current value for the controlled variable. </td></tr>
    <tr><td class="paramname">co</td><td>Pointer to the control output for the controlled variable. </td></tr>
    <tr><td class="paramname">sp</td><td>Pointer to the setpoint for the controlled variable. </td></tr>
    <tr><td class="paramname">Kp</td><td>Proportional coefficient for the PID algorithm. </td></tr>
    <tr><td class="paramname">Ki</td><td>Integral coefficient for the PID algorithm. </td></tr>
    <tr><td class="paramname">Kd</td><td>Derivative coefficient for the PID algorithm. </td></tr>
    <tr><td class="paramname">pOn</td><td>Factor for combining errors (proportional on Error or Measurement). </td></tr>
    <tr><td class="paramname">controller</td><td>The type of controller (one of the controller_t values). </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="aa80b542c5c7be3d3b09204e9860c7f30"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa80b542c5c7be3d3b09204e9860c7f30">&#9670;&nbsp;</a></span>~SC_PID()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">SC_PID::~SC_PID </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Class Destructor.</p>
<p>Release any allocated memory and clean up anything else. </p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="aa20f09f829697266cbc40d84ed60c99f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa20f09f829697266cbc40d84ed60c99f">&#9670;&nbsp;</a></span>compute()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool SC_PID::compute </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Perform PID calculation.</p>
<p>Perform the next step in the PID calculation. How this occurs will depend on the current controller mode (AUTO, USER, OFF) and the time period set.</p>
<p>In AUTO mode the method should be called frequently (ideally every time through loop()) and the return value will inform the application when the calculation actually happened.</p>
<p>In USER mode, the method will run when it is invoked under the assumption that the time elapsed between steps is the currently set PID calculation period.</p>
<p>In OFF mode (default) the calculation is never executed.</p>
<p>The current value, setpoint and new control output used are located by the pointers passed to the constructor.</p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="class_s_c___p_i_d.html#ac26c3f2642a4d024f8e97ef22e69662f">setMode()</a>, <a class="el" href="class_s_c___p_i_d.html#a56ea600297f8316a85c75faa90021ae3">setPIDPeriod()</a>, <a class="el" href="class_s_c___p_i_d.html#a0160a82ab24a8297e6df09c0b37b4b51">setOutputLimits()</a></dd></dl>
<dl class="section return"><dt>Returns</dt><dd>true if the calculation was completed, false otherwise. </dd></dl>

</div>
</div>
<a id="ad3fa85ae19210ac9fd34fb009ee28242"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad3fa85ae19210ac9fd34fb009ee28242">&#9670;&nbsp;</a></span>getControlType()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_s_c___p_i_d.html#ada5a53ec5bc72d5d4f5d344e63f977e5">control_t</a> SC_PID::getControlType </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Return the current controller type.</p>
<dl class="section return"><dt>Returns</dt><dd>The controller type (one of the controller_t values). </dd></dl>

</div>
</div>
<a id="a8b3fc2571cfe167648818429056a2927"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8b3fc2571cfe167648818429056a2927">&#9670;&nbsp;</a></span>getError()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int16_t SC_PID::getError </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Return the current PID error value.</p>
<dl class="section return"><dt>Returns</dt><dd>The error value resulting from the last PID calculation step. </dd></dl>

</div>
</div>
<a id="a438de64273b2b314719bf413c09658a7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a438de64273b2b314719bf413c09658a7">&#9670;&nbsp;</a></span>getKd()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">float SC_PID::getKd </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Return the current Kd value.</p>
<dl class="section return"><dt>Returns</dt><dd>The Kd coefficient for PID calculation. </dd></dl>

</div>
</div>
<a id="a3a2d8e83d0f811e7cc71ff7d0472a2eb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3a2d8e83d0f811e7cc71ff7d0472a2eb">&#9670;&nbsp;</a></span>getKi()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">float SC_PID::getKi </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Return the current Ki value.</p>
<dl class="section return"><dt>Returns</dt><dd>The Ki coefficient for PID calculation. </dd></dl>

</div>
</div>
<a id="ab31cdb29eb5aeba19c35617aa3ac8e0d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab31cdb29eb5aeba19c35617aa3ac8e0d">&#9670;&nbsp;</a></span>getKp()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">float SC_PID::getKp </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Return the current Kp value.</p>
<dl class="section return"><dt>Returns</dt><dd>The Kp coefficient for PID calculation. </dd></dl>

</div>
</div>
<a id="a0b44fa071ac90736f03907b9c0e04c0b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0b44fa071ac90736f03907b9c0e04c0b">&#9670;&nbsp;</a></span>getMode()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_s_c___p_i_d.html#ada768158001147b6abaecf918bd17d63">mode_t</a> SC_PID::getMode </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Return the current controller mode.</p>
<dl class="section return"><dt>Returns</dt><dd>The controller mode (one of the mode_t values). </dd></dl>

</div>
</div>
<a id="a53ef8f0e4c9226c786fe5d253e9efc67"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a53ef8f0e4c9226c786fe5d253e9efc67">&#9670;&nbsp;</a></span>getPIDPeriod()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t SC_PID::getPIDPeriod </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Return the current PID calculation period.</p>
<dl class="section return"><dt>Returns</dt><dd>The calculation period in milliseconds. </dd></dl>

</div>
</div>
<a id="ac1f09dda9f2a81959df2c5584c80a36e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac1f09dda9f2a81959df2c5584c80a36e">&#9670;&nbsp;</a></span>reset()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void SC_PID::reset </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Reset the PID calculation.</p>
<p>Reset the PID calculation. The library will ensure a bumpless transition between current and reset state.</p>
<p>Not generally required but available. </p>

</div>
</div>
<a id="a4794be2d3c590ae0dfc7aeda645a36da"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4794be2d3c590ae0dfc7aeda645a36da">&#9670;&nbsp;</a></span>setControlType()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void SC_PID::setControlType </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_s_c___p_i_d.html#ada5a53ec5bc72d5d4f5d344e63f977e5">control_t</a>&#160;</td>
          <td class="paramname"><em>cType</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Set the controller type.</p>
<p>Sets the controller type. This is already set in the constructor and is unlikely to change for a given control application.</p>
<p>For DIRECT controllers an increase in the output causes an increase in the input. The opposite is true for REVERSE controllers.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">cType</td><td>The new control type (one of control_t). </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ac26c3f2642a4d024f8e97ef22e69662f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac26c3f2642a4d024f8e97ef22e69662f">&#9670;&nbsp;</a></span>setMode()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void SC_PID::setMode </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_s_c___p_i_d.html#ada768158001147b6abaecf918bd17d63">mode_t</a>&#160;</td>
          <td class="paramname"><em>newMode</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Set the controller mode.</p>
<p>Sets the controller mode to one of the mode_t values</p>
<p>In AUTO mode the library tracks time and executes the PID calculation when the correct period has expired.</p>
<p>In USER mode, the library does not track time and the PID calculation will be run whenever it is invoked.</p>
<p>In OFF mode (default) the PID calculation is never executed.</p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="class_s_c___p_i_d.html#aa20f09f829697266cbc40d84ed60c99f">compute()</a></dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">newMode</td><td>The new mode for the controller (default OFF). </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a0160a82ab24a8297e6df09c0b37b4b51"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0160a82ab24a8297e6df09c0b37b4b51">&#9670;&nbsp;</a></span>setOutputLimits()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void SC_PID::setOutputLimits </td>
          <td>(</td>
          <td class="paramtype">int16_t&#160;</td>
          <td class="paramname"><em>min</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int16_t&#160;</td>
          <td class="paramname"><em>max</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Set the PID control limits</p>
<p>Sets the upper and lower values for the control output. The value will always be clamped to this range. The default is [0, 255], which suits an Arduino PWM output.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">min</td><td>The low value of the permissible range (default 0). </td></tr>
    <tr><td class="paramname">max</td><td>The high value for the permissible range (=default 255). </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a56ea600297f8316a85c75faa90021ae3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a56ea600297f8316a85c75faa90021ae3">&#9670;&nbsp;</a></span>setPIDPeriod()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void SC_PID::setPIDPeriod </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>newPeriod</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Reset the PID calculation period.</p>
<p>Reset the PID calculation period. Really only applies in AUTO mode.</p>
<p>Not generally required but available.</p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="class_s_c___p_i_d.html#ac26c3f2642a4d024f8e97ef22e69662f">setMode()</a></dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">newPeriod</td><td>the new calculation interval in milliseconds. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a61ca18bf72d248e11db71d6d6c63884a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a61ca18bf72d248e11db71d6d6c63884a">&#9670;&nbsp;</a></span>setTuning() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void SC_PID::setTuning </td>
          <td>(</td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>Kp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>Ki</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>Kd</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Set the PID coefficients only.</p>
<p>This overload of the method allows the PID coefficients to be changed during run time. These will replace the current coefficients, including those supplied with the constructor.</p>
<p>This method can be used to implement adaptive control or during tuning of the PID control loop.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Kp</td><td>The new Proportional coefficient. </td></tr>
    <tr><td class="paramname">Ki</td><td>The new Integral coefficient. </td></tr>
    <tr><td class="paramname">Kd</td><td>The new Derivative coefficient. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a5930d89577bee64103431f5a1acd610f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5930d89577bee64103431f5a1acd610f">&#9670;&nbsp;</a></span>setTuning() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void SC_PID::setTuning </td>
          <td>(</td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>Kp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>Ki</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>Kd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>pOn</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Set the PID coefficients and Proportional on Error.</p>
<p>Allows the PID coefficients and proportional on error factor to be changed during run time. These will replace the current coefficients, including those with the constructor.</p>
<p>This method can be used to implement adaptive control or during tuning of the PID control loop.</p>
<p>The is the Proportional on Error weighting value is expressed as a number between 0.0 and 1.0. This controls the mix of Proportional on Error (PonE) and Proportional on Measurement (PonM) that's used in the compute algorithm. Note that POn controls the PonE amount, whereas the remainder (1-PonE) is the PonM amount.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Kp</td><td>The new Proportional coefficient. </td></tr>
    <tr><td class="paramname">Ki</td><td>The new Integral coefficient. </td></tr>
    <tr><td class="paramname">Kd</td><td>The new Derivative coefficient. </td></tr>
    <tr><td class="paramname">pOn</td><td>The new proportional on Error coefficient (default 1.0). </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>src/<a class="el" href="_s_c___p_i_d_8h.html">SC_PID.h</a></li>
<li>src/<a class="el" href="_s_c___p_i_d_8cpp.html">SC_PID.cpp</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="class_s_c___p_i_d.html">SC_PID</a></li>
    <li class="footer">Generated on Sat Mar 20 2021 14:15:21 for Smart Car Controller by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1 </li>
  </ul>
</div>
</body>
</html>
