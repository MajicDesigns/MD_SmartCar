<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Smart Car Controller: Determining Calibration Parameters</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="MajicDesigns_Logo.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Smart Car Controller
   &#160;<span id="projectnumber">1.0</span>
   </div>
   <div id="projectbrief">Library to manage a two wheeled robotic vehicle</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('page_setup_config.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">Determining Calibration Parameters </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>The next step is to use the <b>Calibrate</b> example sketch to determine configuration parameters and store them permanently in EEPROM.</p>
<p><b>Calibrate</b> allows the vehicle motors to be controlled through the Serial Monitor using a command line interface (CLI) to invoke test the functions (type ? for help text listing the functions).</p>
<p>Whilst setting parameters, it is a good idea to save parameters to EEPROM using the CLI on a regular basis. The saved parameters can be reloaded from EEPROM at any time - useful when a change has created an unviable set of parameters.</p>
<h4>Setting <a class="el" href="class_m_d___smart_car.html#a95dc6577c747afbc70a179b951c8c782">MD_SmartCar::drive()</a> kicker PWM</h4>
<p>The drive() method initiates PID speed control of the motors. This may include speeds that are less than the minimum needed to rotate the motor from a standing start.</p>
<p>For low speeds and a standing start, the kicker PWM is set as the initial speed for a short time to 'unstick' the motor before the actual (lower) speed is set. The kicker PWM should be set slightly higher than the PWM value found when setting up the motors.</p>
<h4>Setting <a class="el" href="class_m_d___smart_car.html#aa8b0d65f25ba30846e67fe78d3266a8c">MD_SmartCar::move()</a> PWM</h4>
<p>The move() function allows precise movements at this predefined PWM setting. The setting is a compromise that needs to be fine tuned by experimentation, and should</p><ul>
<li>be higher than the kicker setting to enable the motor to start with no problems</li>
<li>be lower than a value that creates too much free movement (due to vehicle inertia) at the end of the move().</li>
</ul>
<h4>Setting PWM control limits</h4>
<p>The control limits are the lowest and highest outputs allowed by the PID controller. The lower limit should have been noted in the first step, using <b>MotorTest</b>. The lower limit should also be less than either the kicker or move() PWM settings.</p>
<p>The upper limit will generally be set at 255 (the maximum) unless there is some other reason to make it lower.</p>
<p>Next: <a class="el" href="page_setup_p_i_d.html">Tuning PID Parameters</a> </p><hr  />
 </div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated on Tue Apr 20 2021 13:06:55 for Smart Car Controller by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1 </li>
  </ul>
</div>
</body>
</html>
